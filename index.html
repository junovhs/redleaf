<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Content Hub</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        nav {
            background-color: #333;
            padding: 1rem;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin-right: 1rem;
        }
        main {
            flex: 1;
            padding: 1rem;
        }
        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 1rem;
        }
    </style>
</head>
<body>
    <nav id="main-nav">
        <!-- Navigation links will be dynamically inserted here -->
    </nav>
    
    <main id="content">
        <!-- Page content will be loaded here -->
    </main>
    
    <footer>
        <p>&copy; 2024 Dynamic Content Hub</p>
    </footer>

    <script>
        const baseUrl = '/pooltool'; // Adjust this if your baseurl is different
        
        async function loadPages() {
            const response = await fetch(`${baseUrl}/pages.json`);
            const pages = await response.json();
            const nav = document.getElementById('main-nav');
            
            pages.forEach(page => {
                const link = document.createElement('a');
                link.href = `${baseUrl}/${page.url}`;
                link.textContent = page.title;
                link.onclick = (e) => {
                    e.preventDefault();
                    loadContent(page.url);
                    history.pushState(null, '', link.href);
                };
                nav.appendChild(link);
            });
        }

        async function loadContent(url) {
            const response = await fetch(`${baseUrl}/${url}`);
            const content = await response.text();
            document.getElementById('content').innerHTML = content;
        }

        window.onpopstate = () => {
            const path = window.location.pathname.replace(baseUrl, '');
            loadContent(path || 'index.html');
        };

        loadPages();
        loadContent('index.html');
    </script>
</body>
</html>
